---
import Icon from 'astro-icon';
import Alert from './Alert.astro';
---

<script src="../js/enquiryModal"></script>

<div id="enquiry-modal" class="backdrop">
	<div
		role="alertdialog"
		aria-modal="true"
		aria-labelledby="modal-label"
		aria-describedby="modal-desc"
		class="card modal"
	>
		<form>
			<h2 id="modal-label">Enquire online</h2>
			<button class="button outline close" data-close="enquiry-modal">
				<Icon name="ic:round-close" />
				<div class="sr-only">Close</div>
			</button>

			<div id="modal-desc" class="desc">
				<Alert type="success">Success message here</Alert>
				<Alert type="error">Error message here</Alert>

				<p>Please fill in the form below and weâ€™ll get back to you shortly.</p>

				<div class="form-field">
					<label for="email" class="label">
						Your email address <span class="small required">(required)</span>
					</label>
					<input id="email" type="email" class="input" required />
				</div>

				<div class="form-field">
					<label for="tel" class="label">
						Your phone number <span class="small required">(required)</span>
					</label>
					<input id="tel" type="text" class="input" required />
				</div>

				<div class="form-field">
					<label for="message" class="label">
						Your message <span class="small required">(required)</span>
					</label>
					<textarea id="message" class="input" rows={8} required></textarea>
				</div>
			</div>
			<div class="actions">
				<button type="button" class="button outline" data-close="enquiry-modal">Cancel</button>
				<button type="submit" class="button secondary" id="send">Send enquiry</button>
			</div>
		</form>
	</div>
</div>

<style lang="scss">
	.backdrop {
		background: rgba(0, 0, 0, 0.6);
		position: fixed;
		top: 0;
		right: 0;
		bottom: 0;
		left: 0;
		z-index: 100;
		padding: var(--s-2-4);
		display: none;
		overflow-y: auto;

		&.show {
			display: flex;
			justify-content: space-around;
			align-items: start;
		}
	}

	.modal {
		max-width: var(--max-readable-width);
		position: relative;
	}

	.form-field {
		display: grid;
		gap: var(--s-1);
	}

	label {
		font-weight: var(--fw-semi-bold);
	}

	.desc {
		display: grid;
		gap: var(--s-2-4);
	}

	h2 {
		margin-bottom: var(--s-2-4);
		color: var(--c-orange);
	}

	.input {
		padding: var(--s-2);
		border-radius: var(--border-radius-extra-small);
		border: 1px solid var(--c-nearly-black);
	}

	.actions {
		margin-top: var(--s-2-4);
		display: flex;
		align-items: center;
		justify-content: end;
		gap: var(--s-1-2);
	}

	.close {
		display: flex;
		padding: var(--s-1);
		border-radius: 200px;
		position: absolute;
		top: var(--s-1-2);
		right: var(--s-1-2);

		svg {
			min-width: var(--s-3);
			min-height: var(--s-3);
		}
	}
</style>
