---
import Hero from '../hero/Hero.astro';
import Reviews from '../Reviews.astro';
import Strapline from '../Strapline.astro';
import type { Review } from '../../../utils/types';
import PlumbingImage from '../../images/bg-plumbing.jpg';
import BlockedSinksToiletsImage from '../../images/bg-blocked-sinks-toilets.jpg';
import CentralHeatingImage from '../../images/bg-central-heating.jpg';
import BoilerServicingRepairsImage from '../../images/bg-boiler-servicing-repairs.jpg';
import PowerFlushingImage from '../../images/bg-power-flushing.jpg';
import GutterCleaningImage from '../../images/bg-gutter-cleaning.jpg';
import PatioCleaningImage from '../../images/bg-patio-cleaning.jpg';
import RoofCleaningImage from '../../images/bg-roof-cleaning.jpg';
import MainContent from '../ServiceMain.astro';
import SecondaryContent from '../ServiceSecondary.astro';
import PlumbingPrimary from '../content/plumbing/Primary.astro';
import BlockedSinksToiletsPrimary from '../content/blockedSinksToilets/Primary.astro';
import BoilerServicingRepairsPrimary from '../content/BoilerServicingRepairs/Primary.astro';
import CentralHeatingPrimary from '../content/centralHeating/Primary.astro';
import PowerFlushingPrimary from '../content/powerFlushing/Primary.astro';
import GutterCleaningPrimary from '../content/gutterCleaning/Primary.astro';
import PatioCleaningPrimary from '../content/patioCleaning/Primary.astro';
import RoofCleaningPrimary from '../content/roofCleaning/Primary.astro';

interface Props {
	location: string;
	reviews: Review[];
	title: string;
	serviceSlug: string;
	locationSlug?: string;
}

const { location, reviews, title, serviceSlug, locationSlug = '' } = Astro.props;
const firstFourReviews = reviews.slice(0, 4);
const lastEightReviews = reviews.slice(4, 12);

let HeroImage: ImageMetadata;
let PrimaryContent: any;

if (serviceSlug === 'plumbing') {
	HeroImage = PlumbingImage;
	PrimaryContent = PlumbingPrimary;
}
if (serviceSlug === 'blocked-sinks-toilets') {
	HeroImage = BlockedSinksToiletsImage;
	PrimaryContent = BlockedSinksToiletsPrimary;
}
if (serviceSlug === 'central-heating') {
	HeroImage = CentralHeatingImage;
	PrimaryContent = CentralHeatingPrimary;
}
if (serviceSlug === 'boiler-servicing-repairs') {
	HeroImage = BoilerServicingRepairsImage;
	PrimaryContent = BoilerServicingRepairsPrimary;
}
if (serviceSlug === 'power-flushing') {
	HeroImage = PowerFlushingImage;
	PrimaryContent = PowerFlushingPrimary;
}
if (serviceSlug === 'gutter-cleaning') {
	HeroImage = GutterCleaningImage;
	PrimaryContent = GutterCleaningPrimary;
}
if (serviceSlug === 'patio-cleaning') {
	HeroImage = PatioCleaningImage;
	PrimaryContent = PatioCleaningPrimary;
}
if (serviceSlug === 'roof-cleaning') {
	HeroImage = RoofCleaningImage;
	PrimaryContent = RoofCleaningPrimary;
}
---

<Hero title={title} location={location} image={HeroImage} />
<MainContent locationSlug={locationSlug}><PrimaryContent /></MainContent>
<Reviews reviews={firstFourReviews} />
<SecondaryContent>Main content</SecondaryContent>
<Strapline county={location} />
<Reviews reviews={lastEightReviews} />
