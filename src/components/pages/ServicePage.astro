---
import Hero from '../hero/Hero.astro';
import Reviews from '../Reviews.astro';
import Strapline from '../Strapline.astro';
import type { Review } from '../../utils/types';
import ServiceMain from '../ServiceMain.astro';
import SecondaryContent from '../ServiceSecondary.astro';

import { getHeroImage } from '../../utils/getHeroImage';

interface Props {
	location: string;
	reviews: Review[];
	title: string;
	serviceSlug: string;
	locationSlug?: string;
}

const { location, reviews, title, serviceSlug, locationSlug = '' } = Astro.props;
const firstFourReviews = reviews.slice(0, 4);
const lastEightReviews = reviews.slice(4, 12);

const HeroImage = getHeroImage(serviceSlug);
---

<Hero title={title} location={location} image={HeroImage} />
<ServiceMain locationSlug={locationSlug} serviceSlug={serviceSlug} />
<Reviews reviews={firstFourReviews} />
<SecondaryContent>SecondaryContent</SecondaryContent>
<Strapline county={location} />
<Reviews reviews={lastEightReviews} />
